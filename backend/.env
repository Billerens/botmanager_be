# ===========================================
# BotManager Backend - Environment Template
# ===========================================
# Скопируйте этот файл в .env и настройте значения для вашего окружения

# ===========================================
# ОСНОВНЫЕ НАСТРОЙКИ ПРИЛОЖЕНИЯ
# ===========================================
NODE_ENV=development
PORT=3000
API_PREFIX=api

# ===========================================
# БАЗА ДАННЫХ (ОБЯЗАТЕЛЬНО)
# ===========================================
# PostgreSQL настройки
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=botmanager
DATABASE_PASSWORD=botmanager_password
DATABASE_NAME=botmanager_dev

# ===========================================
# REDIS (ОБЯЗАТЕЛЬНО)
# ===========================================
# Redis для кэширования и очередей
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=botmanager_redis_password

# Альтернативно можно использовать REDIS_URL:
# REDIS_URL=redis://localhost:6379

# ===========================================
# JWT АУТЕНТИФИКАЦИЯ (ОБЯЗАТЕЛЬНО)
# ===========================================
# Основной JWT секрет (минимум 32 символа)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_EXPIRES_IN=7d

# Refresh токен секрет (минимум 32 символа)
JWT_REFRESH_SECRET=your-refresh-secret-key-change-this-in-production-min-32-chars
JWT_REFRESH_EXPIRES_IN=30d

# ===========================================
# CORS НАСТРОЙКИ
# ===========================================
# Разрешенные домены для CORS (разделяйте запятыми)
CORS_ORIGIN=http://localhost:3001,https://botmanagertest.online

# ===========================================
# TELEGRAM API
# ===========================================
# Базовый URL для Telegram Bot API
TELEGRAM_BOT_API_URL=https://api.telegram.org/bot

# Базовый URL для webhook'ов (должен быть доступен извне)
WEBHOOK_BASE_URL=http://localhost:3000

# ===========================================
# ШИФРОВАНИЕ
# ===========================================
# Ключ для шифрования чувствительных данных (точно 32 символа)
ENCRYPTION_KEY=your-32-character-secret-key-here

# ===========================================
# EMAIL НАСТРОЙКИ (ОПЦИОНАЛЬНО)
# ===========================================
# SMTP настройки для отправки email
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@botmanager.local

# ===========================================
# ЛОГИРОВАНИЕ
# ===========================================
# Уровень логирования (error, warn, info, debug, verbose)
LOG_LEVEL=debug

# Loki для централизованного логирования (опционально)
LOKI_HOST=http://localhost:3100

# ===========================================
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# ===========================================
# URL фронтенда для WebSocket соединений
FRONTEND_URL=http://localhost:3001

# Хост для привязки сервера (опционально)
HOST=localhost

TELEGRAM_BOT_TOKEN=6944444444:AAH-1234567890-1234567890

# ===========================================
# ТЕСТИРОВАНИЕ (ВРЕМЕННО)
# ===========================================
# Список разрешенных Telegram ID для регистрации и входа (через запятую)
# ALLOWED_USERS=123456789,987654321

# ===========================================
# ПРОИЗВОДСТВЕННЫЕ НАСТРОЙКИ
# ===========================================
# Для production окружения раскомментируйте и настройте:

# NODE_ENV=production
# PORT=3000
# DATABASE_HOST=your-production-db-host
# DATABASE_USERNAME=your-production-db-user
# DATABASE_PASSWORD=your-production-db-password
# DATABASE_NAME=botmanager_prod
# REDIS_HOST=your-production-redis-host
# REDIS_PASSWORD=your-production-redis-password
# JWT_SECRET=your-production-jwt-secret-min-32-characters-long
# JWT_REFRESH_SECRET=your-production-refresh-secret-min-32-characters-long
# CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
# WEBHOOK_BASE_URL=https://api.yourdomain.com
# ENCRYPTION_KEY=your-production-32-character-encryption-key
# SMTP_HOST=your-smtp-server.com
# SMTP_PORT=587
# SMTP_USER=your-smtp-username
# SMTP_PASS=your-smtp-password
# SMTP_FROM=noreply@yourdomain.com
# LOG_LEVEL=info
# FRONTEND_URL=https://yourdomain.com

# ===========================================
# OPENROUTER API (LangChain)
# ===========================================
# API ключ OpenRouter (получите на https://openrouter.ai/)
OPENROUTER_API_KEY=your-openrouter-api-key

# Базовый URL OpenRouter API (обычно не требует изменения)
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# HTTP Referer для OpenRouter (опционально, для статистики)
# OPENROUTER_HTTP_REFERER=https://yourdomain.com

# X-Title для OpenRouter (опционально, для статистики)
# OPENROUTER_X_TITLE=BotManager

# Модель по умолчанию
OPENROUTER_DEFAULT_MODEL=meta-llama/llama-3.3-70b-instruct

# Разрешенные модели (опционально, через запятую или пробел)
# OPENROUTER_ALLOWED_MODELS=meta-llama/llama-3.3-70b-instruct,anthropic/claude-3.5-sonnet

# ===========================================
# VPN ПРОКСИ ДЛЯ OPENROUTER (ОПЦИОНАЛЬНО)
# ===========================================
# URL VPN прокси для OpenRouter запросов
# Если прокси недоступен, будет использоваться прямое подключение
OPENROUTER_PROXY_URL=http://188.212.124.243:8888

# Таймаут проверки доступности прокси в миллисекундах (по умолчанию: 5000)
OPENROUTER_PROXY_CHECK_TIMEOUT=5000